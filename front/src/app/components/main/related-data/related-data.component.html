<section class="py-5 bg-secondary">
    <div class="container px-4 px-lg-5 mt-5">
        <h2 class="fw-bolder mb-4 p-4 fw-bold text-light text-center" style="letter-spacing: 1px;">
            Related Products
        </h2>

        <div class="row gx-4 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-xl-4 justify-content-center">
            <div class="col mb-4" *ngFor="let product of products.slice(2, 6)">
                <div class="card shadow-lg"
                    style="border-radius: 12px; width: 260px; transition: transform 0.3s ease-in-out; overflow: hidden;"
                    (mouseover)="hoverCard($event)" (mouseleave)="leaveCard($event)">

                    <!-- Sale badge -->
                    <div *ngIf="product.onSale" class="badge bg-danger text-white position-absolute"
                        style="top: 0.5rem; right: 0.5rem; font-size: 14px; padding: 5px 10px; border-radius: 5px;">
                        Sale
                    </div>

                    <!-- Product image -->
                    <img class="card-img-top" [src]="'https://localhost:7116/' + product.productImagePath"
                        [alt]="product.pName"
                        style="width: 100%; height: 180px; object-fit: cover; border-radius: 12px 12px 0 0; cursor: pointer;"
                        (mouseover)="hoverImage($event)" (mouseleave)="leaveImage($event)" />

                    <!-- Product details -->
                    <div class="card-body text-center p-3">
                        <h5 class="fw-bolder text-dark" style="font-size: 18px; margin-bottom: 6px;">
                            {{ product.productName }}
                        </h5>
                        <p class="fw-bold text-dark" style="font-size: 16px;">
                            ${{ product.productPrice }}
                        </p>
                    </div>

                    <!-- Product actions -->
                    <div class="d-flex justify-content-center gap-2 mb-2">
                        <button class="btn btn-primary btn-sm hover-scale px-3 py-2" style="border-radius: 8px;" (click)="addToCart(product)">
                            Add to Cart
                        </button>
                        <button class="btn btn-primary btn-sm hover-scale px-3 py-2" style="border-radius: 8px;" [routerLink]="['/product', product.productId]">
                            More Details
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>